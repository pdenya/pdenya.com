<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Objective-C | Paul Denya</title>
<meta name="keywords" content="">
<meta name="description" content="Solving problems">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/category/objective-c/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fcb3718b9739f6b39cc36096f68dccc8a7e0d3e24fc6b09c575e0c25ec8f35b2.css" integrity="sha256-/LNxi5c59rOcw2CW9o3MyKfg0&#43;JPxrCcV14MJeyPNbI=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/category/objective-c/feed.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/category/objective-c/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet">

</head>

<body class="list" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Paul Denya (Alt + H)">Paul Denya</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/category/">Category</a></div>
  <h1>
    Objective-C
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Sharing a single NSDateFormatter instance
    </h2>
  </header>
  <div class="entry-content">
    <p>Formatting dates in cellForRowAtIndexPath or another method that gets called very often will make an app noticeably slower if an NSDateFormatter needs to be initialized on every call. Storing the NSDateFormatter in a property or making it static are both fine options but if it’s around anyway it might as well be used by the rest of the app.
NSDateFormatter Instance Category //NSDateFormatter Category &#43; (NSDateFormatter *)instance { static dispatch_once_t onceMark; static NSDateFormatter *formatter = nil; dispatch_once(&amp;onceMark, ^{ formatter = [[NSDateFormatter alloc] init]; }); return formatter; } //Usage NSDateFormatter *dateformatter = [NSDateFormatter instance]; Drawbacks If there are multiple date formats in use the date format needs to be set before each use. Not a major drawback but it can get annoying.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-08-15 15:00:05 +0000 +0000'>August 15, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Sharing a single NSDateFormatter instance" href="http://localhost:1313/2013/08/15/sharing-a-single-nsdateformatter-instance/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Retina alterative to CGRectIntegral
    </h2>
  </header>
  <div class="entry-content">
    <p>CGRectIntegral is a function for rounding all the values of a CGRect at once, typically used for snapping frames to pixels. For a good example of how this helps prevent image blurring and other related rendering issues see this stackoverflow answer.
On retina screens CGRectIntegral still rounds to the nearest point (1.0) rather than the nearest pixel (0.5) which isn’t ideal.
My solution to this is implemented as a UIView category which matches my use case for CGRectIntegral 100% of the time. Your mileage may vary.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-08-14 15:00:07 +0000 +0000'>August 14, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Retina alterative to CGRectIntegral" href="http://localhost:1313/2013/08/14/retina-alterative-to-cgrectintegral/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Checking if a UITableViewCell is fully visible
    </h2>
  </header>
  <div class="entry-content">
    <p>Sometime you need to know if a UITableViewCell is completely visible and for those times there’s this handy UITableViewCell category.
//Place in UITableViewCell Category - (BOOL) isCompletelyVisible { // For parents category see pdenya.com/g/uiview_parents UITableView *tableview = (UITableView *)[self parents:[UITableView class]]; CGRect rect = [tableview rectForRowAtIndexPath:[tableview indexPathForCell:self]]; rect = [tableview convertRect:rect toView:tableview.superview]; BOOL completelyVisible = CGRectContainsRect(tableview.frame, rect); return completelyVisible; } I’d like to mention that you can skip this check entirely if your goal is to make sure a cell is completely visible. With UITableViewScrollPositionNone scrollToRowAtIndexPath:atScrollPosition:animated: doesn’t scroll at all if the cell is totally visible and in other cases it scrolls as little as possible which is usually the ideal behavior.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-08-07 15:00:38 +0000 +0000'>August 7, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Checking if a UITableViewCell is fully visible" href="http://localhost:1313/2013/08/07/checking-if-a-uitableviewcell-is-fully-visible/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Tap anywhere else to cancel in Objective C
    </h2>
  </header>
  <div class="entry-content">
    <p>Whenever you have a modal element that outside touches should cancel a few things need to happen:
Touches inside the modal element should behave normally Outside touches should not trigger touch events on tappable elements Outside touches should trigger a handler to close the modal In my case I was swiping a UITableViewCell and revealing a controls view that should close if any other UITableViewCell is tapped.
hitTest:withEvent - The easiest method Touch events bubble down from the root view rather than up from the target view which makes this a bit easier. On whichever view needs to capture the touch events, we need to override hitTest:withEvent: to return nil and call a function whenever a modal is open and a view other than the modal is tapped. I overrode this method in my UITableView’s superview.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-08-06 17:10:57 +0000 +0000'>August 6, 2013</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Tap anywhere else to cancel in Objective C" href="http://localhost:1313/2013/08/06/tap-anywhere-else-to-cancel-in-objective-c/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Custom Relative Time with Date Components
    </h2>
  </header>
  <div class="entry-content">
    <p>Here’s an if chain that figures out the relative time. The current version suites my needs but it’s easy to modify.
//print date to countdown_label NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease]; NSDate *fromDate = [NSDate date]; NSDate *toDate = [user filtered_until]; NSDateComponents *components = [calendar components:NSDayCalendarUnit|NSHourCalendarUnit|NSMinuteCalendarUnit fromDate:fromDate toDate:toDate options:0]; NSString *countdown_text = @&#34;&#34;; if (components.day &gt; 1) { countdown_text = [NSString stringWithFormat:@&#34;%i days&#34;, components.day]; } //1d 4hrs else if (components.day &gt; 0 &amp;&amp; components.hour &gt; 1) { countdown_text = [NSString stringWithFormat:@&#34;%id %ihrs&#34;, components.day, components.hour]; } //1d 1hr else if (components.day &gt; 0 &amp;&amp; components.hour == 1) { countdown_text = [NSString stringWithFormat:@&#34;%id %ihr&#34;, components.day, components.hour]; } //1 day ..this probably won&#39;t happen else if (components.day &gt; 0 &amp;&amp; components.hour == 0) { countdown_text = [NSString stringWithFormat:@&#34;%i day&#34;, components.day]; } //12 hours else if (components.hour &gt; 1) { countdown_text = [NSString stringWithFormat:@&#34;%i hours&#34;, components.hour]; } //1 hour else if (components.hour == 1) { countdown_text = @&#34;1 hour&#34;; } //48 mins else if (components.minute &gt; 1) { countdown_text = [NSString stringWithFormat:@&#34;%i mins&#34;, components.minute]; } //1 min else if (components.minute == 1) { countdown_text = @&#34;1 min&#34;; } //0 min or less else { countdown_text = @&#34;now&#34;; } </p>
  </div>
  <footer class="entry-footer"><span title='2013-07-30 18:43:38 +0000 +0000'>July 30, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Custom Relative Time with Date Components" href="http://localhost:1313/2013/07/30/custom-relative-time-with-date-components/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">XCode folder patterns
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>Here’s a small gallery of popular and a few assorted github objective c project sidebars fully expanded.
</p>
  </div>
  <footer class="entry-footer"><span title='2013-07-17 01:45:42 +0000 +0000'>July 17, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to XCode folder patterns" href="http://localhost:1313/posts/xcode-folder-patterns/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Tracking down exceptions in XCode
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>http://stackoverflow.com/questions/1093999/stack-trace-or-more-info-on-unhandled-exception-in-xcode-iphone
</p>
  </div>
  <footer class="entry-footer"><span title='2013-07-16 17:37:43 +0000 +0000'>July 16, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Tracking down exceptions in XCode" href="http://localhost:1313/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Sane default categories
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p></p>
  </div>
  <footer class="entry-footer"><span title='2013-07-12 07:51:18 +0000 +0000'>July 12, 2013</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Sane default categories" href="http://localhost:1313/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Getting a particular superview in Objective-C
    </h2>
  </header>
  <div class="entry-content">
    <p>If you have, for example, a child view of a UITableViewCell and you need to get the UITableViewCell in question you can quickly do something like:
UITableViewCell *cell = (UITableViewCell *)the_view.superview.superview; It works but this code is fragile because it requires that the view heirarchy not change (also things like this usually point to a code organization issue but hey, i’m not here to judge). If we want to be able to add a scrollview in between without editing this method we’ll have to take a different approach.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-07-11 05:00:05 +0000 +0000'>July 11, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Paul</footer>
  <a class="entry-link" aria-label="post link to Getting a particular superview in Objective-C" href="http://localhost:1313/2013/07/10/getting-a-particular-superview-in-objective-c/"></a>
</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
